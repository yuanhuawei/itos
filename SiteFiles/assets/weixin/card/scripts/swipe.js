function Swipe(n,t,e){"use strict";function i(){h=b.children,p=h.length,h.length<2&&(t.continuous=!1),x.transitions&&t.continuous&&h.length<3&&(b.appendChild(h[0].cloneNode(!0)),b.appendChild(b.children[1].cloneNode(!0)),h=b.children),f=new Array(h.length),w=n.getBoundingClientRect().width||n.offsetWidth,b.style.width=h.length*w+"px";for(var e=h.length;e--;){var i=h[e];i.style.width=w+"px",i.setAttribute("data-index",e),x.transitions&&(i.style.left=e*-w+"px",u(e,g>e?-w:g<e?w:0,0))}t.continuous&&x.transitions&&(u(r(g-1),-w,0),u(r(g+1),w,0)),x.transitions||(b.style.left=g*-w+"px"),n.style.visibility="visible"}function o(){t.continuous?a(g-1):g&&a(g-1)}function s(){t.continuous?a(g+1):g<h.length-1&&a(g+1)}function r(n){return(h.length+n%h.length)%h.length}function a(n,e){if(g!=n){if(x.transitions){var i=Math.abs(g-n)/(g-n);if(t.continuous){var o=i;i=-f[r(n)]/w,i!==o&&(n=-i*h.length+n)}for(var s=Math.abs(g-n)-1;s--;)u(r((n>g?n:g)-s-1),w*i,0);n=r(n),u(g,w*i,e||T),u(n,0,e||T),t.continuous&&u(r(n-i),-(w*i),0)}else n=r(n),d(g*-w,n*-w,e||T);g=n,m(t.callback&&t.callback(g,h[g]))}}function u(n,t,e){c(n,t,e),f[n]=t}function c(n,t,e){var i=h[n],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function d(n,e,i){if(!i)return void(b.style.left=e+"px");var o=+new Date,s=setInterval(function(){var r=+new Date-o;return r>i?(b.style.left=e+"px",k&&l(),t.transitionEnd&&t.transitionEnd.call(event,g,h[g]),void clearInterval(s)):void(b.style.left=(e-n)*(Math.floor(r/i*100)/100)+n+"px")},4)}function l(){y=setTimeout(s,k)}function v(){k=t.auto>0?t.auto:0,clearTimeout(y)}var h,f,w,p,E=function(){},m=function(n){setTimeout(n||E,0)},x={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(n){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in t)if(void 0!==n.style[t[e]])return!0;return!1}(document.createElement("swipe"))},b=n.children[0];t=t||{};var g=parseInt(t.startSlide,10)||e,T=t.speed||300;t.continuous=void 0===t.continuous||t.continuous;var y,L,k=t.auto||0,D={},M={},z={handleEvent:function(n){switch(n.type){case"touchstart":this.start(n);break;case"touchmove":this.move(n);break;case"touchend":m(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":m(this.transitionEnd(n));break;case"resize":m(i)}t.stopPropagation&&n.stopPropagation()},start:function(n){var t=n.touches[0];D={x:t.pageX,y:t.pageY,time:+new Date},L=void 0,M={},b.addEventListener("touchmove",this,!1),b.addEventListener("touchend",this,!1)},move:function(n){if(!(n.touches.length>1||n.scale&&1!==n.scale)){t.disableScroll&&n.preventDefault();var e=n.touches[0];M={x:e.pageX-D.x,y:e.pageY-D.y},"undefined"==typeof L&&(L=!!(L||Math.abs(M.x)<Math.abs(M.y))),L||(n.preventDefault(),v(),t.continuous?(c(r(g-1),M.x+f[r(g-1)],0),c(g,M.x+f[g],0),c(r(g+1),M.x+f[r(g+1)],0)):(M.x=M.x/(!g&&M.x>0||g==h.length-1&&M.x<0?Math.abs(M.x)/w+1:1),c(g-1,M.x+f[g-1],0),c(g,M.x+f[g],0),c(g+1,M.x+f[g+1],0)))}},end:function(n){var e=+new Date-D.time,i=Number(e)<250&&Math.abs(M.x)>20||Math.abs(M.x)>w/2,o=!g&&M.x>0||g==h.length-1&&M.x<0;t.continuous&&(o=!1);var s=M.x<0;L||(i&&!o?(s?(t.continuous?(u(r(g-1),-w,0),u(r(g+2),w,0)):u(g-1,-w,0),u(g,f[g]-w,T),u(r(g+1),f[r(g+1)]-w,T),g=r(g+1)):(t.continuous?(u(r(g+1),w,0),u(r(g-2),-w,0)):u(g+1,w,0),u(g,f[g]+w,T),u(r(g-1),f[r(g-1)]+w,T),g=r(g-1)),t.callback&&t.callback(g,h[g])):t.continuous?(u(r(g-1),-w,T),u(g,0,T),u(r(g+1),w,T)):(u(g-1,-w,T),u(g,0,T),u(g+1,w,T))),b.removeEventListener("touchmove",z,!1),b.removeEventListener("touchend",z,!1)},transitionEnd:function(n){parseInt(n.target.getAttribute("data-index"),10)==g&&(k&&l(),t.transitionEnd&&t.transitionEnd.call(n,g,h[g]))}};return i(),k&&l(),x.addEventListener?(x.touch&&b.addEventListener("touchstart",z,!1),x.transitions&&(b.addEventListener("webkitTransitionEnd",z,!1),b.addEventListener("msTransitionEnd",z,!1),b.addEventListener("oTransitionEnd",z,!1),b.addEventListener("otransitionend",z,!1),b.addEventListener("transitionend",z,!1)),window.addEventListener("resize",z,!1)):window.onresize=function(){i()},{setup:function(){i()},slide:function(n,t){v(),a(n,t)},prev:function(){v(),o()},next:function(){v(),s()},stop:function(){v()},getPos:function(){return g},getNumSlides:function(){return p},kill:function(){v(),b.style.width="",b.style.left="";for(var n=h.length;n--;){var t=h[n];t.style.width="",t.style.left="",x.transitions&&c(n,0,0)}x.addEventListener?(b.removeEventListener("touchstart",z,!1),b.removeEventListener("webkitTransitionEnd",z,!1),b.removeEventListener("msTransitionEnd",z,!1),b.removeEventListener("oTransitionEnd",z,!1),b.removeEventListener("otransitionend",z,!1),b.removeEventListener("transitionend",z,!1),window.removeEventListener("resize",z,!1)):window.onresize=null}}}(window.jQuery||window.Zepto)&&!function(n){n.fn.Swipe=function(t){return this.each(function(){n(this).data("Swipe",new Swipe(n(this)[0],t,n("#curMonth").val()))})}}(window.jQuery||window.Zepto);