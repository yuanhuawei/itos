var controller={};controller.poweredBy="",controller.isLoading=!0,controller.isSuccess=!1,controller.isPoweredBy=!1,controller.cardInfo={},controller.cardSNInfo={},controller.render=function(){utilService.render("controller",controller),$("#btnSubmit").click(function(){controller.Consume()}),$("#loading").hide(),$("#main").show()},controller.Consume=function(){var r=$("#amount").val(),e=$("#operator").val(),o=$("#password").val();return r.length<=0?(notifyService.error("消费金额不能为空"),void $("#amount").focus()):utilService.isPrice(r)?null==e?void notifyService.error("操作员不能为空"):o.length<=0?(notifyService.error("消费密码不能为空"),void $("#password").focus()):void service.consume(service.cardID,r,e,o,function(r){controller.isSuccess=r.isSuccess,controller.isSuccess?(controller.render(),r.errorMessage.length>0?notifyService.error(r.errorMessage):notifyService.success("消费操作成功")):notifyService.error(r.errorMessage)}):(notifyService.error("请输入正确的消费金额"),void $("#amount").focus())},controller.main=function(){service.getCardParameter(service.cardID,function(r){controller.isLoading=!1,r.isSuccess?(controller.isPoweredBy=r.isPoweredBy,controller.poweredBy=r.poweredBy,controller.cardInfo=r.cardInfo,controller.cardSNInfo=r.cardSNInfo,controller.cardInfo.shopOperatorList=JSON.parse(controller.cardInfo.shopOperatorList),controller.render()):notifyService.error(r.errorMessage),document.title=r.cardInfo.title})},controller.main();