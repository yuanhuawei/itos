var controller={};controller.poweredBy="",controller.isLoading=!0,controller.isSuccess=!1,controller.isPoweredBy=!1,controller.userInfo={},controller.cardInfo={},controller.cardSNInfo={},controller.cardSignLogInfoList=[],controller.render=function(){utilService.render("controller",controller),$("#btnSubmit").click(function(){controller.Sign()}),$("#loading").hide(),$("#main").show(),getCalendar()},controller.openSignRecord=function(){location.href="signRecord.html?publishmentSystemID="+service.publishmentSystemID+"&cardID="+service.cardID},controller.openSignRule=function(){location.href="signRule.html?publishmentSystemID="+service.publishmentSystemID+"&cardID="+service.cardID},controller.Sign=function(){service.sign(function(r){controller.isSuccess=r.isSuccess,controller.isSuccess?(controller.render(),r.errorMessage.length>0?notifyService.error(r.errorMessage):location.href="sign.html?publishmentSystemID="+service.publishmentSystemID+"&cardID="+service.cardID):notifyService.error(r.errorMessage)})},controller.main=function(){service.getSignRecord(function(r){controller.isLoading=!1,r.isSuccess?(controller.isPoweredBy=r.isPoweredBy,controller.poweredBy=r.poweredBy,controller.userInfo=r.userInfo,controller.cardSignLogInfoList=r.cardSignLogInfoList,controller.render()):notifyService.error(r.errorMessage)})},controller.main();