var controller={};controller.login={},controller.userName="",controller.poweredBy="",controller.errorMessage="",controller.isLoading=!0,controller.isSuccess=!1,controller.isPoweredBy=!1,controller.render=function(){utilService.render("controller",controller),$("#btRegister").click(function(){controller.register()}),$("#loading").hide(),$("#main").show()},controller.register=function(){controller.login.userName=$("#userName").val(),controller.login.email=$("#email").val(),controller.login.mobile=$("#mobile").val(),controller.login.password=$("#password").val(),controller.login.confirmPassword=$("#confirmPassword").val();var r=!0;return controller.login.userName?controller.login.email?utilService.isEmail(controller.login.email)?controller.login.mobile?utilService.isMobile(controller.login.mobile)?controller.login.password?controller.login.password.length<6||controller.login.password.length>20?(notifyService.error("密码长度只能在6-20位字符之间"),$("#password").focus(),r=!1):$("#confirmPassword").length>0&&controller.login.password!=controller.login.confirmPassword&&(notifyService.error("确认密码与密码不一致，请重新输入"),$("#confirmPassword").focus(),r=!1):(notifyService.error("请输入登录密码"),$("#password").focus(),r=!1):(notifyService.error("请输入正确的手机号码"),$("#mobile").focus(),r=!1):(notifyService.error("请输入手机号码"),$("#mobile").focus(),r=!1):(notifyService.error("请输入正确的邮箱地址"),$("#email").focus(),r=!1):(notifyService.error("请输入邮箱"),$("#email").focus(),r=!1):(notifyService.error("请输入登录账号"),$("#loginName").focus(),r=!1),!!r&&void service.register(service.cardID,controller.login.userName,controller.login.email,controller.login.mobile,controller.login.password,function(r){controller.isSuccess=r.isSuccess,controller.isSuccess?service.openLogin():notifyService.error(r.errorMessage)})},controller.main=function(){service.getCardParameter(service.cardID,function(r){controller.isLoading=!1,r.isSuccess?(controller.isPoweredBy=r.isPoweredBy,controller.poweredBy=r.poweredBy,controller.render()):notifyService.error(r.errorMessage),document.title=r.cardInfo.title})},controller.main();