function da(e,t,o){var n=this;n.x=e,n.y=t,n.a=o,n.o=function(e,t,o){n.x=e,n.y=t,n.a=o},n.toString=function(){return"("+n.x+","+n.y+","+n.a+")"},n.i=function(e){var t=Math.sin(e),e=Math.cos(e),o=n.y,i=n.a;n.y=e*o-t*i,n.a=t*o+e*i},n.j=function(e){var t=Math.sin(e),e=Math.cos(e),o=n.x,i=n.a;n.x=e*o+t*i,n.a=-t*o+e*i},n.F=function(e){var t=Math.sin(e),e=Math.cos(e),o=n.x,i=n.y;n.x=e*o-t*i,n.y=t*o+e*i},n.ha=function(){return new da(n.x,n.y,n.a)},n.length=function(){return Math.sqrt(n.x*n.x+n.y*n.y+n.a*n.a)},n.M=function(e){return n.x*e.x+n.y*e.y+n.a*e.a},n.X=function(e,t){var o;o=Math.cos(t*Math.PI/180),n.x=o*Math.sin(e*Math.PI/180),n.y=Math.sin(t*Math.PI/180),n.a=o*Math.cos(e*Math.PI/180)},n.na=function(e,t,o){n.x=e.x*o+t.x*(1-o),n.y=e.y*o+t.y*(1-o),n.a=e.a*o+t.a*(1-o)}}function ob(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}function kc(e,t,o){var n,i=o[0],a=o[1],o=o[2],r=Math.sqrt(i*i+a*a+o*o);if(r){1!=r&&(r=1/r,i*=r,a*=r,o*=r);var d=Math.sin(t),u=Math.cos(t),l=1-u,t=e[0],r=e[1],s=e[2],c=e[3],g=e[4],h=e[5],b=e[6],p=e[7],m=e[8],f=e[9],A=e[10],v=e[11],y=i*i*l+u,x=a*i*l+o*d,N=o*i*l-a*d,w=i*a*l-o*d,E=a*a*l+u,M=o*a*l+i*d,T=i*o*l+a*d,i=a*o*l-i*d,a=o*o*l+u;n?e!=n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]):n=e,n[0]=t*y+g*x+m*N,n[1]=r*y+h*x+f*N,n[2]=s*y+b*x+A*N,n[3]=c*y+p*x+v*N,n[4]=t*w+g*E+m*M,n[5]=r*w+h*E+f*M,n[6]=s*w+b*E+A*M,n[7]=c*w+p*E+v*M,n[8]=t*T+g*i+m*a,n[9]=r*T+h*i+f*a,n[10]=s*T+b*i+A*a,n[11]=c*T+p*i+v*a}}function lc(){var e,t="perspective",o=["Webkit","Moz","O","ms","Ms"];for(e=u,e=0;e<o.length;e++)"undefined"!=typeof document.documentElement.style[o[e]+"Perspective"]&&(t=o[e]+"Perspective");return"undefined"!=typeof document.documentElement.style[t]?"webkitPerspective"in document.documentElement.style?(t=document.createElement("style"),o=document.createElement("div"),e=document.head||document.getElementsByTagName("head")[0],t.textContent="@media (-webkit-transform-3d) {#ggswhtml5{height:5px}}",e.appendChild(t),o.id="ggswhtml5",document.documentElement.appendChild(o),e=5===o.offsetHeight,t.parentNode.removeChild(t),o.parentNode.removeChild(o)):e=m:e=u,e}function mc(){var e;if(e=!!window.WebGLRenderingContext)try{var t=document.createElement("canvas");t.width=100,t.height=100;var o=t.getContext("webgl");o||(o=t.getContext("experimental-webgl")),e=o?m:u}catch(t){e=u}return e}function pano2vrPlayer(e){function t(e){var t,o;if(o=[],t=e.getAttributeNode("title"),o.title=t?t.nodeValue.toString():"",t=e.getAttributeNode("description"),o.description=t?t.nodeValue.toString():"",t=e.getAttributeNode("author"),o.author=t?t.nodeValue.toString():"",t=e.getAttributeNode("datetime"),o.datetime=t?t.nodeValue.toString():"",t=e.getAttributeNode("copyright"),o.copyright=t?t.nodeValue.toString():"",t=e.getAttributeNode("source"),o.source=t?t.nodeValue.toString():"",t=e.getAttributeNode("info"),o.information=t?t.nodeValue.toString():"",t=e.getAttributeNode("comment"),o.comment=t?t.nodeValue.toString():"",t=e.getAttributeNode("latitude"),o.latitude=t?1*t.nodeValue:"0.0",t=e.getAttributeNode("longitude"),o.longitude=t?1*t.nodeValue:"0.0",t=e.getAttributeNode("tags")){for(e=t.nodeValue.toString().split("|"),t=0;t<e.length;t++)""==e[t]&&(e.splice(t,1),t--);o.tags=e}else o.tags=[];return o}function o(e){fo="{"==e.charAt(0)?e.substr(1,e.length-2):"",de.skinObj&&de.skinObj.changeActiveNode&&de.skinObj.changeActiveNode(e)}function a(e){for(var t=0;t<kt.length;t++)if(kt[t].id==e)return kt[t];for(t=0;t<jt.length;t++)if(jt[t].id==e)return jt[t];return n}function r(e){try{e.obj=document.createElement("img"),1!=e.g&&4!=e.g||(e.obj.onclick=function(){e.l=!e.l,e.obj.style.zIndex=e.l?80:0,e.obj.style[lo]="all 1s ease 0s",e.I=m,e.obj.addEventListener(l(),function(){e.I=u,e.obj.style[lo]="none"},u),X()}),e.obj.setAttribute("src",O(e.url)),e.n&&(e.obj.width=e.n),e.m&&(e.obj.height=e.m),Lt.push(e),e.obj.style.position="absolute";var t=dt.firstChild;t?dt.insertBefore(e.obj,t):dt.appendChild(e.obj)}catch(e){J("Error addimage:"+e)}}function d(e){try{e.obj=document.createElement("video"),1!=e.g&&4!=e.g||(e.obj.onclick=function(){e.l=!e.l,e.l?(e.obj.style.zIndex=80,e.obj.style[lo]="all 1s ease 0s",de.playSound(e.id)):(e.obj.style.zIndex=0,e.obj.style[lo]="all 1s ease 0s"),e.I=m,e.obj.addEventListener(l(),function(){e.I=u,e.obj.style[lo]="none"},u),X()}),2==e.g&&(e.obj.onclick=function(){de.playPauseSound(e.id)});var t;for(t=0;t<e.url.length;t++){var o;o=document.createElement("source"),o.setAttribute("src",O(e.url[t])),e.obj.appendChild(o)}e.obj.volume=e.b*Ct,0==e.loop&&(e.obj.e=1e7),1<=e.loop&&(e.obj.e=e.loop-1),(1==e.mode||2==e.mode||3==e.mode||5==e.mode)&&0<=e.loop&&(e.obj.autoplay=m),jt.push(e),e.obj.style.position="absolute",e.n&&(e.obj.width=e.n),e.m&&(e.obj.height=e.m);var n=dt.firstChild;n?dt.insertBefore(e.obj,n):dt.appendChild(e.obj),e.$=m,e.obj.addEventListener("ended",function(){return 0<this.e?(this.e--,this.currentTime=0,this.play(),m):void(this.$=u)},u)}catch(e){J(e)}}function l(){var e,t=document.createElement("fakeelement"),o={OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",transition:"transitionEnd"};for(e in o)if(void 0!==t.style[e])return o[e]}function s(e){var t=-1;try{for(var o=0;o<kt.length;o++)kt[o].id==e.id&&kt[o].obj!=n&&kt[o].url.join()==e.url.join()&&kt[o].loop==e.loop&&kt[o].mode==e.mode&&(t=o);if(-1==t){for(o=0;o<kt.length;o++)if(kt[o].id==e.id&&kt[o].obj!=n){try{kt[o].obj.pause()}catch(e){J(e)}try{kt[o].obj.parentElement.removeChild(kt[o].obj),delete kt[o].obj,kt[o].obj=n}catch(e){J(e)}t=o}for(e.obj=document.createElement("audio"),o=0;o<e.url.length;o++){var i;i=document.createElement("source"),""!=e.url[o]&&"#"!=e.url[o]&&(i.setAttribute("src",O(e.url[o])),e.obj.appendChild(i))}e.obj.volume=e.b*Ct,0==e.loop&&(e.obj.e=1e7),1<=e.loop&&(e.obj.e=e.loop-1),(1==e.mode||2==e.mode||3==e.mode||5==e.mode)&&0<=e.loop&&(e.obj.autoplay=m),0<=t?kt[t]=e:kt.push(e),0<e.obj.childNodes.length&&(it.appendChild(e.obj),e.obj.addEventListener("ended",function(){if(0<this.e)return this.e--,this.currentTime=0,this.play(),m},u))}}catch(e){J(e)}}function c(){var e;e=document.createElement("div"),e.innerHTML="",e.setAttribute("style","top:  0px;left: 0px;width: 100px;height: 100px;overflow: hidden;z-index: 5000;position:relative;"),it.replaceChild(e,dt),e.style.width=0+Xt+Ht+Ve+"px",e.style.height=0+Yt+Wt+ke+"px",e.onclick=function(){it.replaceChild(dt,e)},e.oncontextmenu=function(){it.replaceChild(dt,e)}}function g(){setTimeout(function(){de.setFullscreen(u)},10),setTimeout(function(){de.setFullscreen(u)},100)}function h(){Ao(h);var e=new Date;if(0<=Ue&&(qt?(Ke=.4*(Pe-qe),Qe=.4*(Re-Je),qe+=Ke,Je+=Qe,_(Ke,Qe)):(Ke=.1*-Be,Qe=.1*-Oe,_(.1*-Be,.1*-Oe)),de.dirty=m),$e&&(de.changeFov(.4*(et-Ne)),.001>Math.abs(et-Ne)/Ne&&($e=u),de.dirty=m),Ze&&(0!=Ke||0!=Qe)&&0>Ue&&(Ke*=.9,Qe*=.9,.1>Ke*Ke+Qe*Qe?Qe=Ke=0:(_(Ke,Qe),de.dirty=m)),0!=tt){switch(tt){case 37:de.changePan(1,m);break;case 38:de.changeTilt(1,m);break;case 39:de.changePan(-1,m);break;case 40:de.changeTilt(-1,m);break;case 43:case 107:case 16:de.changeFovLog(-1,m);break;case 17:case 18:case 109:case 45:case 91:de.changeFovLog(1,m)}de.dirty=m}if(!de.isLoaded&&de.hasConfig){var t,o=0;for(At&&(de.finalPanorama(),At=u),t=0;t<de.checkLoaded.length;t++)de.checkLoaded[t].complete&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC"!=de.checkLoaded[t].src&&o++;o==de.checkLoaded.length?(gt=1,de.isLoaded=m,de.divSkin&&de.divSkin.ggLoaded&&de.divSkin.ggLoaded()):gt=o/(1*de.checkLoaded.length)}for(;360<ce;)ce-=360;for(;-360>ce;)ce+=360;if(Mt){if(pe=St-ce,360==be-he){for(;-180>pe;)pe+=360;for(;180<pe;)pe-=360}xe=Ft-fe,Se=st-Ne,t=Math.sqrt(pe*pe+xe*xe+Se*Se),10*t<Tt?(Mt=u,Se=xe=pe=0,de.onMoveComplete&&de.onMoveComplete()):(t=t>5*Tt?Tt/t:.2,pe*=t,xe*=t,Se*=t),ce+=pe,fe+=xe,Ne+=Se,ct=e.getTime(),de.dirty=m}else if(xt)if(t=e.getTime()-lt,0<Et&&de.S&&t>=1e3*Et){if(1<Rt.length){t=1e3;do o=Rt[Math.floor(Math.random()*Rt.length)];while(t--&&o==fo);lt=e.getTime(),de.openNext("{"+o+"}")}}else xe=wt*(0-fe)/100,Se=wt*(we-Ne)/100,pe=.95*pe+.05*-Nt,ce+=pe,fe+=xe,Ne+=Se,de.dirty=m;else vt&&0>Ue&&e.getTime()-ct>1e3*yt&&(xt=m,lt=e.getTime(),Se=xe=pe=0),Ze&&0==tt&&0>Ue&&(0!=pe||0!=xe||0!=Se)&&(pe*=.9,xe*=.9,Se*=.9,ce+=pe,fe+=xe,de.changeFovLog(Se),1e-4>pe*pe+xe*xe+Se*Se&&(Se=xe=pe=0),de.dirty=m);if(Ut&&(Ot?e.getTime()-Bt>=1e3*Dt&&(Ot=u):(It+=_t,0>It&&(It=0,_t=-_t,Ot=m,Bt=e.getTime()),1<It&&(It=1,_t=-_t,Ot=m,Bt=e.getTime()),de.setOverlayOpacity(It))),0<jt.length)for(t=0;t<jt.length;t++)jt[t].$&&jt[t].la!=jt[t].obj.currentTime&&(jt[t].la=jt[t].obj.currentTime,!jt[t].fa&&0<jt[t].obj.videoHeight&&(jt[t].fa=jt[t].obj.videoWidth/jt[t].obj.videoHeight));if(0<$){if(2==$)for(t=0;t<Vt.length;t++)e=Vt[t],"poly"==e.type&&e.k!=e.c&&(e.k>e.c?(e.c+=.05,e.k<e.c&&(e.c=e.k)):(e.c-=.05,e.k>e.c&&(e.c=e.k)),de.dirty=m);3==$&&te!=ee&&(te>ee?(ee+=.05,te<ee&&(ee=te)):(ee-=.05,te>ee&&(ee=te)),de.dirty=m)}for(e=new da,e.X(ce,fe),t=0;t<kt.length+jt.length;t++)if(o=t<kt.length?kt[t]:jt[t-kt.length],o.obj){var i;i=o.pan-ce;for(var a=o.tilt-fe;-180>i;)i+=360;for(;180<i;)i-=360;var r=o.z,d=o.field;if(0==d&&(d=.01),0>d&&(d=Ne),o.N||(o.N=new da,o.N.X(o.pan,o.tilt)),3==o.mode){i=Math.abs(i),i=i<o.f?0:i-o.f;var l=o.b,a=Math.abs(a),a=a<o.r?0:a-o.r,s=1-a/d;if(Math.abs(i)>d||0>s)o.obj.volume=l*r*Ct;else{var c=1-Math.abs(i/d);o.obj.volume=l*(r+(1-r)*s*c)*Ct}}4==o.mode&&o.sa==n&&(Math.abs(i)<o.f&&Math.abs(a)<o.r?o.G||(o.G=m,o.obj.play()):o.G=u),5==o.mode&&(i=180*Math.acos(e.M(o.N))/Math.PI,i<o.f?o.obj.volume=o.b*Ct:(i-=o.f,i<d&&0<d?(c=1-Math.abs(i/d),o.obj.volume=o.b*(r+(1-r)*c)*Ct):o.obj.volume=r*Ct)),6==o.mode&&(i=180*Math.acos(e.M(o.N))/Math.PI,Math.abs(i)<o.f?o.G||(o.G=m,o.obj.play()):o.G=u)}de.dirty&&(de.dirty=u,de.updatePanorama())}function b(e){de.skinObj&&de.skinObj.hotspotProxyClick&&de.skinObj.hotspotProxyClick(e.id),""!=e.url&&(de.openUrl(e.url,e.target),P(-1,-1))}function p(){de.isFullscreen&&!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.fullScreen&&de.exitFullscreen()}function f(){tt=0}function A(){tt=0,C()}function y(e){Gt||(tt=e.keyCode,C())}function x(e){zt||(e.preventDefault(),C())}function N(e){zt||(e.preventDefault(),$e=m,et=Te/Math.sqrt(event.scale),et>Me&&(et=Me),et<Ee&&(et=Ee),de.dirty=m,C())}function E(e){ao=m,zt||(e.preventDefault(),Te=Ne,C())}function M(e){zt||(e.preventDefault(),Ue=-2)}function T(e){if(!zt){e.preventDefault(),0<=Ue&&C();var t,o,i=(new Date).getTime(),e=-1,a=m,e=Math.abs(Xe-He)+Math.abs(Ye-We);if(0<=e&&20>e){if(t=H(de.mouse.x,de.mouse.y),de.d)for(e=de.d,o=u;e&&e!=de.control;)e.onclick&&!o&&(e.onclick(),o=m,a=u),e=e.parentNode;if(e=Math.abs(Ge-He)+Math.abs(ze-We),700>i-de.C&&0<=e&&20>e){if(de.d==de.control&&Qt&&setTimeout(function(){de.toggleFullscreen()},1),de.d)for(e=de.d,o=u;e&&e!=de.control;)e.ondblclick&&!o&&(e.ondblclick(),o=m,a=u),e=e.parentNode;de.C=0}else de.C=i;Ge=He,ze=We}if(de.d)for(e=de.d,o=u;e&&e!=de.control;)e.onmouseout&&e.onmouseout(),e.onmouseup&&!o&&(e.onmouseup(),o=m),e=e.parentNode;de.d=n,Ue=-11,t&&a&&b(t)}}function S(e){e||(e=window.event);var t=e.touches,o=Z();if(de.mouse.x=t[0].pageX-o.x,de.mouse.y=t[0].pageY-o.y,!zt){if(e.preventDefault(),t[0]&&(He=t[0].pageX,We=t[0].pageY),0<=Ue){for(e.preventDefault(),e=0;e<t.length;e++)if(t[e].identifier==Ue){I(t[e].pageX,t[e].pageY);break}C()}2==t.length&&t[0]&&t[1]&&(Ue=-6,ao||(le=Math.sqrt((t[0].pageX-t[1].pageX)*(t[0].pageX-t[1].pageX)+(t[0].pageY-t[1].pageY)*(t[0].pageY-t[1].pageY)),$e=m,et=Te*Math.sqrt(ue/le),et>Me&&(et=Me),et<Ee&&(et=Ee),C()))}}function F(e){e||(e=window.event);var t=e.touches,o=Z();if(de.mouse.x=t[0].pageX-o.x,de.mouse.y=t[0].pageY-o.y,!zt){if(e.preventDefault(),0>Ue&&t[0]&&(se=(new Date).getTime(),Xe=t[0].pageX,Ye=t[0].pageY,He=t[0].pageX,We=t[0].pageY,de.d=t[0].target,t[0].target==de.control&&(e=t[0].pageX,o=t[0].pageY,je=e,Le=o,Pe=e,Re=o,qe=e,Je=o,Ue=t[0].identifier,C()),de.d))for(e=de.d,flag=u;e&&e!=de.control;)e.onmouseover&&e.onmouseover(),e.onmousedown&&!flag&&(e.onmousedown(),flag=m),e=e.parentNode;1<t.length&&(Ue=-5),!ao&&2==t.length&&t[0]&&t[1]&&(ue=Math.sqrt((t[0].pageX-t[1].pageX)*(t[0].pageX-t[1].pageX)+(t[0].pageY-t[1].pageY)*(t[0].pageY-t[1].pageY)),Te=Ne),Oe=Be=0}}function V(e){if(!Zt){var e=e?e:window.event,t=e.detail?-1*e.detail:e.wheelDelta/40;Jt&&(t=-t),de.changeFovLog((0<t?1:-1)*Kt,m),de.dirty=m,e.preventDefault(),C()}}function k(e){if(e=e?e:window.event,!zt&&(e.preventDefault(),0<=Ue)){Ue=-3,Oe=Be=0;var e=(new Date).getTime(),t=-1,t=Math.abs(je-Pe)+Math.abs(Le-Re);400>e-se&&0<=t&&20>t&&((t=H(de.mouse.x,de.mouse.y))&&b(t),t=Math.abs(Ce-Pe)+Math.abs(Ie-Re),700>e-de.C&&0<=t&&20>t?(Qt&&setTimeout(function(){de.toggleFullscreen()},10),de.C=0):de.C=e,Ce=Pe,Ie=Re),C()}}function L(e){var e=e?e:window.event,t=Z();if(de.mouse.x=e.pageX-t.x,de.mouse.y=e.pageY-t.y,!zt&&(e.preventDefault(),0<=Ue&&((e.which||0==e.which||1==e.which)&&I(e.pageX,e.pageY),C()),de.hotspot==de.emptyHotspot||"poly"==de.hotspot.type)){var o=H(de.mouse.x,de.mouse.y);de.hotspot!=o&&(de.hotspot!=de.emptyHotspot&&(0<$&&(de.hotspot.k=0),de.skinObj&&de.skinObj.hotspotProxyOut&&de.skinObj.hotspotProxyOut(de.hotspot.id)),o?(de.hotspot=o,de.skinObj&&de.skinObj.hotspotProxyOver&&de.skinObj.hotspotProxyOver(de.hotspot.id),dt.style.cursor="pointer",0<$&&(te=1,de.hotspot.k=1)):(de.hotspot=de.emptyHotspot,dt.style.cursor="auto",0<$&&(te=0))),P(e.pageX-t.x,e.pageY-t.y)}}function P(e,t){var o=Q;o.enabled&&(de.hotspot!=de.emptyHotspot&&0<=e&&0<=t&&""!=de.hotspot.title?($t.innerHTML=de.hotspot.title,$t.style.color=W(o.W,o.V),$t.style.backgroundColor=o.background?W(o.t,o.s):"transparent",$t.style.border="solid "+W(o.v,o.u)+" "+o.P+"px",$t.style.borderRadius=o.O+"px",$t.style.textAlign="center",0<o.width?($t.style.left=e-o.width/2+"px",$t.style.width=o.width+"px"):($t.style.width="auto",$t.style.left=e-$t.offsetWidth/2+"px"),$t.style.height=0<o.height?o.height+"px":"auto",$t.style.top=t+25+"px",$t.style.visibility="inherit",$t.style.overflow="hidden"):($t.style.visibility="hidden",$t.innerHTML=""))}function R(e){if(!zt){if(e=e?e:window.event,e.preventDefault(),(e.which||0==e.which||1==e.which)&&e.target==de.control){var t=e.pageX,e=e.pageY;je=t,Le=e,Pe=t,Re=e,qe=t,Je=e,Ue=1,se=(new Date).getTime(),C()}Oe=Be=0}}function C(){xt&&(xt=u,Se=xe=pe=0),Mt&&(Mt=u,Se=xe=pe=0),ct=(new Date).getTime()}function I(e,t){_e=e,De=t,Be=_e-Pe,Oe=De-Re,qt&&(Pe=_e,Re=De)}function _(e,t){var o=de.getVFov();ce+=e*o/ke,fe+=t*o/ke,Y()}function D(e){for(xo=eo.createBuffer(),eo.bindBuffer(eo.ARRAY_BUFFER,xo),vertices=[-1,-1,1,1,-1,1,1,1,1,-1,1,1],i=0;12>i;i++)2>i%3&&(vertices[i]*=e);eo.bufferData(eo.ARRAY_BUFFER,new Float32Array(vertices),eo.STATIC_DRAW),No=eo.createBuffer(),eo.bindBuffer(eo.ARRAY_BUFFER,No),eo.bufferData(eo.ARRAY_BUFFER,new Float32Array([1,0,0,0,0,1,1,1]),eo.STATIC_DRAW),wo=eo.createBuffer(),eo.bindBuffer(eo.ELEMENT_ARRAY_BUFFER,wo),eo.bufferData(eo.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),eo.STATIC_DRAW)}function B(){var e,t;if(Eo)for(;0<Eo.length;)eo.deleteTexture(Eo.pop());Eo=[];for(var o=0;6>o;o++)t=eo.createTexture(),t.L=n,t.K=n,t.Z=u,e=new Image,e.crossOrigin="anonymous",e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC",t.ta=e,e.addEventListener&&e.addEventListener("load",U(t),u),pt[o]&&(e=new Image,e.crossOrigin="anonymous",e.src=O(pt[o]),t.L=e,e.addEventListener&&e.addEventListener("load",U(t),u),de.checkLoaded.push(e)),Eo.push(t);for(o=0;6>o;o++)ht[o]&&(e=new Image,e.crossOrigin="anonymous",e.src=O(ht[o]),e.addEventListener?e.addEventListener("load",U(Eo[o]),u):e.onload=U(Eo[o]),Eo[o].K=e,de.checkLoaded.push(e));for(o=0;o<jt.length;o++)jt[o].va=eo.createTexture()}function O(e){return e?"/"==e.charAt(0)||0<e.indexOf("://")?e:ro+e:ro}function U(e){return function(){try{eo.pixelStorei(eo.UNPACK_FLIP_Y_WEBGL,m);var t=u;e.K!=n&&e.K.complete?(eo.bindTexture(eo.TEXTURE_2D,e),e.Z||(eo.texImage2D(eo.TEXTURE_2D,0,eo.RGBA,eo.RGBA,eo.UNSIGNED_BYTE,e.K),t=e.Z=m)):e.L!=n&&e.L.complete&&(eo.texImage2D(eo.TEXTURE_2D,0,eo.RGBA,eo.RGBA,eo.UNSIGNED_BYTE,e.L),t=m),t&&(eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_MAG_FILTER,eo.LINEAR),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_MIN_FILTER,eo.LINEAR),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_WRAP_S,eo.CLAMP_TO_EDGE),eo.texParameteri(eo.TEXTURE_2D,eo.TEXTURE_WRAP_T,eo.CLAMP_TO_EDGE)),eo.bindTexture(eo.TEXTURE_2D,n)}catch(e){}de.dirty=m}}function X(){var e,t=Math.round(de.Q());for(e=0;e<jt.length+Lt.length;e++){var o;o=e<jt.length?jt[e]:Lt[e-jt.length],G(t);var n="",n=n+("translate3d(0px,0px,"+t+"px) "),n=n+("rotateX("+fe+"deg) "),n=n+("rotateY("+-ce+"deg) "),n=n+("rotateY("+o.pan+"deg) "),n=n+("rotateX("+-o.tilt+"deg) "),i=1e4,a=o.obj.videoWidth,r=o.obj.videoHeight;0!=a&&0!=r||(a=640,r=480),0<o.n&&(a=o.n),0<o.m&&(r=o.m),0<a&&0<r&&(o.obj.width=a+"px",o.obj.ma=r+"px",o.obj.style.width=a+"px",o.obj.style.ma=r+"px"),0<o.B&&(i=a/(2*Math.tan(o.B/2*Math.PI/180))),n+="translate3d(0px,0px,"+-i+"px) ",n+="rotateZ("+o.F+"deg) ",n+="rotateY("+-o.j+"deg) ",n+="rotateX("+o.i+"deg) ",o.J&&1!=o.J&&(n+="scaleY("+o.J+") "),n+="translate3d("+-a/2+"px,"+-r/2+"px,0px) ",o.obj.style[so+"Origin"]="0% 0%",o.l&&(n="",1==o.g&&(i=Math.min(Ve/a,ke/r),n+="scale("+i+") "),n+="translate3d("+-a/2+"px,"+-r/2+"px,0px) "),o.ka!=n&&(o.ka=n,o.obj.style[so]=n,o.obj.style.left=Xt+Ve/2+"px",o.obj.style.top=Yt+ke/2+"px",o.obj.style.visibility="visible",o.I&&o.ja==o.l&&(o.obj.style[lo]="all 0.05s linear 0s"),o.ja=o.l)}}function Y(){var e,t;if(Ne<Ee&&(Ne=Ee),Ne>Me&&(Ne=Me),t=de.getVFov()/2,e=180*Math.atan(Ve/ke*Math.tan(t*Math.PI/180))/Math.PI,2*t>ye-ve&&(t=(ye-ve)/2),de.setVFov(2*t),90>ye?fe+t>ye&&(fe=ye-t):fe>ye&&(fe=ye),-90<ve?fe-t<ve&&(fe=ve+t):fe<ve&&(fe=ve),359.99>be-he){var o=0;if(0!=fe){var n,i=ke/2;n=i*Math.tan(t*Math.PI/180),i/=Math.tan(Math.abs(fe)*Math.PI/180),i-=n,0<i&&(o=180*Math.atan(1/(i/n))/Math.PI,o=o*(be-he)/360)}ce+(e+o)>be&&(ce=be-(e+o),xt&&(Nt=-Nt,pe=0)),ce-(e+o)<he&&(ce=he+(e+o),xt&&(Nt=-Nt,pe=0)),90<fe+t&&(fe=90-t),-90>fe-t&&(fe=-90+t)}}function H(e,t){for(var o=-1,n=0;n<Vt.length;n++){var i=Vt[n];if("poly"==i.type&&i.p&&0<i.p.length){var a,r,d=u;for(a=0,r=i.p.length-1;a<i.p.length;r=a++){var l=i.p[a];r=i.p[r],l.q>t!=r.q>t&&e<(r.D-l.D)*(t-l.q)/(r.q-l.q)+l.D&&(d=!d)}d&&(o=n)}}return 0<=o?Vt[o]:u}function W(e,t){return e=Number(e),"rgba("+(e>>16&255)+","+(e>>8&255)+","+(255&e)+","+t+")"}function G(e){de.oa!=e&&(de.oa=e,dt.style[co]=e+"px",dt.style[co+"Origin"]=Xt+Ve/2+"px "+(Yt+ke/2)+"px ")}function z(e,t){if(0==e.length)return e;var o,n,i,a,r,d,u,l=[];for(o=t.M(e[0])-0,a=0;a<e.length;a++)d=a,u=a+1,u==e.length&&(u=0),n=t.M(e[u])-0,0<=o&&0<=n?l.push(e[d]):(0<=o||0<=n)&&(i=n/(n-o),0>i&&(i=0),1<i&&(i=1),r=new da,r.na(e[d],e[u],i),0>o||l.push(e[d]),l.push(r)),o=n;return l}function Z(){var e={x:0,y:0},t=ot;if(t.offsetParent)do e.x+=t.offsetLeft,e.y+=t.offsetTop;while(t=t.offsetParent);return e}function q(){de.setViewerSize(de.A.offsetWidth,de.A.offsetHeight)}function J(e){(debug=document.getElementById("debug"))&&(debug.innerHTML=e+"<br />"),window.console&&window.console.log(e)}function K(e,t){var o=this;o.qa=e,o.hotspot=t,o.__div=document.createElement("div"),o.R=document.createElement("img");var n;o.R.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5xJREFUeNqclmlIVFEUx997TjrplFQW2WKBBSYtRFlpWUILSSsRZRQIBdGHCFqIoKIvQRsUFRJC9LEgaSFbMMpcWi1pLzOLsjItKms0U5t5/c/wH7nc5o2jF374xrv87z33nHOPaRsRtbFgDpgJxoD+wATfwDNQDK6CyrCr5OcbhgiGIRsUAZt4QTWoIFXgp9JfAhY7rgdBl8NeBoLDYBloA+dBOagFTcDHcVEgDgwBGWA+OAcugvXgvb5wKMGJoAAMp9BpUA96EBf/Btsf8BI8AWfAErAcpHHDZeriliY2AVwDg8AucAQ0Ag+I4XhTm2Oxz8PT46KMbTx5EZjuJDgAnAVusJUm9DhYwalFcc59sIXXIaceFkowDySBPTRPL20xm+b7zYXa+N3CPrWJ6GuwGySA40HLBHc/GywFhbS5R1lEBrZy7FQwiSaX9pmnqeAYt+KUcew7BVZw/QKTq0ocpYPVvDOXItZCk2xgDIZqL8BR8Ab0VDbr4yZOgLeIwzQx6WiQxcCt1+6sld66L4yYtFSwF4yg2dU7/cEwGW9YVkAwmycp1dzdpvgm0DcCh4kHmxWzBls0uBX4qqmZJ4KzePm1IeJLgjmlC16aDKZpp5Q168B3o6wsSwTHgU+MIUs74RSj6y1d+212HKimJlUE+tFRfJpYtOKNXWmJTASqWf2Bu/R6+4TKHOrOzG4IhptjWgHbGkZvepQ6SQK7oRuCXzjX1DJavBEX1ygfT8FgBqpfm1zRDcEKbR2bsZlkJCdXieB1ZhZ5YtqVgXIPN+m9kbY6hpdb+d9fPncJRmZmqQheZkemJmgxyxykl3XWJEkcAl7N21s7PDcl5ZJ0PAa3wVwmWtVbZafPwQ7wLozYB7ATPNJO56d/LAikP9u+66KNJS1d4IOZp7wU0hfLukUyzgwm70T2N/DOxIy/eFdqawa5DL2NEGwP5k15Ja4woz9glvcomd9NzyvkFcQo5gomaLfm5c0svnKZ2k7q7+FauvR2MJKZR3+sY5WgtvkdG6JyELGhNHMTXyGfLviRJ5Tcd4Dlhle7086Sgp8CqVxDkn4OqHaqacr5ekjy3Q/W0FRNNGmoMtamdzdxsytZC0lqXKhEgWPVVgImg2NgFT1MHOoOk3yLEtgWN5TEOYvoIFI1rGM19//2wpAD7imF7lfwENwAxaASNCj90pcLLKdC2Iyw1M9gnEplMEp5kOU1f8WwKGJm8oUr9f8JMAAVMDM6HSDa9QAAAABJRU5ErkJggg%3D%3D"),o.R.setAttribute("style","position: absolute;top: -14px;left: -14px;display:none;"),o.__div.appendChild(o.R),n="position:absolute;"+(uo+"user-select: none;"),o.__div.setAttribute("style",n),o.__div.onclick=function(){o.qa.openUrl(t.url,t.target)};var i=Q;i.enabled&&(o.text=document.createElement("div"),n="position:absolute;"+("left: -"+t.w/2+"px;"),n=n+"top:  20px;"+("width: "+t.w+"px;"),n=0==t.h?n+"height: auto;":n+("height: "+t.h+"px;"),t.wordwrap?n=n+"white-space: pre-wrap;"+("width: "+t.w+"px;"):(n=0==t.h?n+"width: auto;":n+("width: "+t.w+"px;"),n+="white-space: nowrap;"),n+=uo+"transform-origin: 50% 50%;",o.text.setAttribute("style",n+"visibility:block;border: 1px solid #000000;background-color: #ffffff;text-align: center;padding: 0px 1px 0px 1px;"),o.text.style.color=W(i.W,i.V),o.text.style.backgroundColor=i.background?W(i.t,i.s):"transparent",o.text.style.border="solid "+W(i.v,i.u)+" "+i.P+"px",o.text.style.borderRadius=i.O+"px",o.text.style.textAlign="center",o.text.style.width=0<i.width?i.width+"px":"auto",o.text.style.height=0<i.height?i.height+"px":"auto",o.text.style.overflow="block",o.text.innerHTML=t.title,o.__div.onmouseover=function(){0==t.h&&(w=o.text.offsetWidth,o.text.style.left=-w/2+"px"),o.text.style.visibility="inherit"},o.__div.onmouseout=function(){o.text.style.visibility="block"},o.__div.appendChild(o.text))}var Q,$,ee,te,oe,ne,ie,ae,re,de=this;de.transitionsDisabled=u;var ue,le,se,ce=0,ge=0,he=0,be=360,pe=0,me=0,fe=0,Ae=0,ve=-90,ye=90,xe=0,Ne=90,we=90,Ee=1,Me=170,Te=0,Se=0,Fe=0,Ve=320,ke=480,je=0,Le=0,Pe=0,Re=0,Ce=0,Ie=0,_e=0,De=0,Be=0,Oe=0,Ue=-1,Xe=0,Ye=0,He=0,We=0,Ge=0,ze=0,Ze=m,qe=0,Je=0,Ke=0,Qe=0,$e=u,et=0,tt=0,ot=n,nt=n,it=n,at=n,rt=n,dt=n,ut=n;de.control=n,de.cubeFaces=[],de.cubeFacesOverlay=[],de.checkLoaded=[],de.isFullscreen=u,de.dirty=u,de.divSkin=n,de.isLoaded=u,de.hasConfig=u,de.startNode="",de.onMoveComplete=n;var lt,st,ct,gt=0,ht=[],bt=[],pt=[],mt=1,ft=1,At=u,vt=u,yt=5,xt=u,Nt=.4,wt=0,Et=0,Mt=u,Tt=.1,St=0,Ft=0;de.skinObj=n,de.userdata={},de.userdata.title="",de.userdata.description="",de.userdata.author="",de.userdata.datetime="",de.userdata.copyright="",de.userdata.source="",de.userdata.information="",de.userdata.comment="",de.userdata.tags=[];var Vt=[];de.emptyHotspot={pan:0,tilt:0,title:"",url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:u,obj:n,type:"empty"};var kt=[],jt=[],Lt=[],Pt=[],Rt=[],Ct=1,It=0,_t=.01,Dt=2,Bt=0,Ot=u,Ut=u,Xt=0,Yt=0,Ht=0,Wt=0,Gt=u,zt=u,Zt=u,qt=m,Jt=u,Kt=1,Qt=m;$=1,ee=0,te=0,oe=255,ne=1,ie=255,ae=.3,Q={enabled:m,width:180,height:20,W:0,V:1,background:m,t:16777215,s:1,v:0,u:1,O:3,P:1,wordwrap:m},re=void 0,de.hotspot=de.emptyHotspot;var $t=n;de.mouse={x:0,y:0};var eo,to=u,oo=u,no=u,io=m,ao=u,ro="",uo="",lo="transition",so="transform",co="perspective",go=new da,ho=new da,bo=new da,po=new da,mo=new da;de.S=u;var fo="",Ao=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,10)}}();de.detectBrowser=function(){var e,t=["Webkit","Moz","O","ms","Ms"];for(uo="",lo="transition",so="transform",co="perspective",e=0;e<t.length;e++)"undefined"!=typeof document.documentElement.style[t[e]+"Transform"]&&(uo="-"+t[e].toLowerCase()+"-",lo=t[e]+"Transition",so=t[e]+"Transform",co=t[e]+"Perspective");no=lc(),to=mc(),J((no?"CSS 3D available":"CSS 3D not available")+", "+(to?"WebGL available":"WebGL not available"))},de.getPercentLoaded=function(){return gt},de.setBasePath=function(e){ro=e},de.Q=function(){return 1*ke/(2*Math.tan(Math.PI/180*(de.getVFov()/2)))},de.setViewerSize=function(e,t){de.isFullscreen&&(e=window.innerWidth,t=window.innerHeight);var o=e-Xt-Ht,n=t-Yt-Wt;if(ot.style.width=o+"px",ot.style.height=n+"px",ot.style.left=Xt+"px",ot.style.top=Yt+"px",to)try{nt&&(nt.width=o,nt.height=n),eo&&(eo.ea=o,eo.da=n,eo.viewport(0,0,o,n))}catch(e){alert(e)}dt.style.width=e+"px",dt.style.height=t+"px",ut.style.width=e+"px",ut.style.height=t+"px",ut.width=e,ut.height=t,de.updatePanorama(),de.divSkin&&de.divSkin.ggUpdateSize&&de.divSkin.ggUpdateSize(e,t)},de.setMargins=function(e,t,o,n){Xt=e,Yt=t,Ht=o,Wt=n,q()},de.changeViewMode=function(e){0==e&&(qt=u),1==e&&(qt=m),2==e&&(qt=qt?u:m)};var vo;de.getVFov=function(){var e;switch(Fe){case 0:e=Ne/2;break;case 1:e=180*Math.atan(ke/Ve*Math.tan(Ne/2*Math.PI/180))/Math.PI;break;case 2:e=180*Math.atan(ke/Math.sqrt(Ve*Ve+ke*ke)*Math.tan(Ne/2*Math.PI/180))/Math.PI;break;case 3:e=4*ke/3>Ve?Ne/2:180*Math.atan(4*ke/(3*Ve)*Math.tan(Ne/2*Math.PI/180))/Math.PI}return 2*e},de.setVFov=function(e){var t,e=e/2;switch(Fe){case 0:Ne=2*e;break;case 1:e=180*Math.atan(Ve/ke*Math.tan(e*Math.PI/180))/Math.PI,Ne=2*e;break;case 2:t=Math.sqrt(Ve*Ve+ke*ke),e=180*Math.atan(t/ke*Math.tan(e*Math.PI/180))/Math.PI,Ne=2*e;break;case 3:4*ke/3>Ve||(e=180*Math.atan(3*Ve/(4*ke)*Math.tan(e*Math.PI/180))/Math.PI),Ne=2*e}},de.updatePanorama=function(){var e=new da(0,0,-100),t=de.Q(),o=Math.atan2(Ve/2+1,t),n=Math.atan2(ke/2+1,t),i=Math.sin(o),a=Math.sin(n),o=Math.cos(o),n=Math.cos(n);for(go.o(0,0,-1),ho.o(o,0,-i),bo.o(-o,0,-i),po.o(0,n,-a),mo.o(0,-n,-a),i=0;i<Vt.length;i++){var r,a=Vt[i];if("point"==a.type&&(e.o(0,0,-100),e.i(-a.tilt*Math.PI/180),e.j(a.pan*Math.PI/180),e.j(-ce*Math.PI/180),e.i(fe*Math.PI/180),o=u,.1>e.a?(r=-t/e.a,n=e.x*r,r*=e.y,Math.abs(n)<Ve/2+500&&Math.abs(r)<ke/2+500&&(o=m)):r=n=0,a.obj&&a.obj.__div&&(a.obj.__div.style[lo]="none",a.obj.ggUse3d?o?(G(t),a.obj.__div.style.width="1px",a.obj.__div.style.height="1px",hs="",hs+="translate3d(0px,0px,"+t+"px) ",hs+="rotateX("+fe+"deg) ",hs+="rotateY("+-ce+"deg) ",hs+="rotateY("+a.pan+"deg) ",hs+="rotateX("+-a.tilt+"deg) ",hs+="translate3d(0px,0px,"+-1*a.obj.gg3dDistance+"px) ",a.obj.__div.style[so+"Origin"]="0% 0%",a.obj.__div.style[so]=hs,a.obj.__div.style.left=Xt+Ve/2+"px",a.obj.__div.style.top=Yt+ke/2+"px",a.obj.__div.style.visibility="visible"):(a.obj.__div.style[so]="",a.obj.__div.style.visibility="hidden"):o?(a.obj.__div.style.left=Xt+n+Ve/2+"px",a.obj.__div.style.top=Yt+r+ke/2+"px",a.obj.__div.style[so]=""):(a.obj.__div.style.left="-100px",a.obj.__div.style.top="-100px",a.obj.__div.style[so]="scale(0,0)"))),"poly"==a.type){for(var d=[],o=0;o<a.H.length;o++)n=a.H[o],e.o(0,0,-100),e.i(-n.tilt*Math.PI/180),e.j(n.pan*Math.PI/180),e.j(-ce*Math.PI/180),e.i(fe*Math.PI/180),d.push(e.ha());if(n=d,n=z(n,go),n=z(n,ho),n=z(n,bo),n=z(n,po),d=n=z(n,mo),0<d.length)for(o=0;o<d.length;o++)e=d[o],.1>e.a?(r=-t/e.a,n=Ve/2+e.x*r,r=ke/2+e.y*r):r=n=0,e.D=n,e.q=r;a.p=d}}if(ut&&(re!=$&&(re=$,ut.style.visibility=0<$?"inherit":"hidden"),0<$))for(vo||(vo=ut.getContext("2d")),vo.width==Ve&&vo.height==ke||(vo.width=Ve,vo.height=ke),vo.clear?vo.clear():vo.clearRect(0,0,ut.width,ut.height),e=1,3==$&&(e=ee),t=0;t<Vt.length;t++)if(i=Vt[t],"poly"==i.type&&(a=i.p,2==$&&(e=i.c),vo.fillStyle=W(i.t,i.s*e),vo.strokeStyle=W(i.v,i.u*e),0<a.length)){for(vo.beginPath(),j=0;j<a.length;j++)v=a[j],0==j?vo.moveTo(v.D,v.q):vo.lineTo(v.D,v.q);vo.closePath(),vo.stroke(),vo.fill()}if(to){if(Y(),Ve==ot.offsetWidth&&ke==ot.offsetHeight||(Ve=parseInt(ot.offsetWidth),ke=parseInt(ot.offsetHeight)),io&&(de.initWebGL(0),q()),eo)for(eo.clear(eo.COLOR_BUFFER_BIT|eo.DEPTH_BUFFER_BIT),ob(To),a=de.getVFov(),t=eo.ea/eo.da,a=.1*Math.tan(a*Math.PI/360),t*=a,e=-t,i=-a,(n=To)||(n=new glMatrixArrayType(16)),o=t-e,d=a-i,n[0]=.2/o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=.2/d,n[6]=0,n[7]=0,n[8]=(t+e)/o,n[9]=(a+i)/d,n[10]=-100.1/99.9,n[11]=-1,n[12]=0,n[13]=0,n[14]=-20/99.9,n[15]=0,eo.uniformMatrix4fv(yo.aa,u,To),v=0;6>v;v++)ob(Mo),kc(Mo,-fe*Math.PI/180,[1,0,0]),kc(Mo,(180-ce)*Math.PI/180,[0,1,0]),4>v?kc(Mo,-Math.PI/2*v,[0,1,0]):kc(Mo,Math.PI/2*(5==v?1:-1),[1,0,0]),eo.bindBuffer(eo.ARRAY_BUFFER,xo),eo.vertexAttribPointer(yo.ca,3,eo.FLOAT,u,0,0),eo.bindBuffer(eo.ARRAY_BUFFER,No),eo.vertexAttribPointer(yo.ba,2,eo.FLOAT,u,0,0),eo.activeTexture(eo.TEXTURE0),eo.bindTexture(eo.TEXTURE_2D,Eo[v]),eo.bindBuffer(eo.ELEMENT_ARRAY_BUFFER,wo),eo.uniform1i(yo.ra,0),eo.uniformMatrix4fv(yo.pa,u,Mo),eo.uniformMatrix4fv(yo.aa,u,To),eo.drawElements(eo.TRIANGLES,6,eo.UNSIGNED_SHORT,0)}else if(Y(),t=u,Ve==ot.offsetWidth&&ke==ot.offsetHeight||(Ve=parseInt(ot.offsetWidth),ke=parseInt(ot.offsetHeight),ot.style[so+"OriginX"]=Ve/2+"px",ot.style[so+"OriginY"]=ke/2+"px",t=m),e=Math.round(de.Q()),(de.T!=e||t)&&(de.T=e,ot.style[co]=e+"px"),rt&&at)rt.style[so]="translate3d("+Ve/2+"px,"+ke/2+"px,"+e+"px)",at.style[so]="rotateX("+Number(fe).toFixed(10)+"deg)  rotateY("+Number(-ce).toFixed(10)+"deg)";else for(t=0;6>t;t++)(i=de.cubeFaces[t])&&(a="translate3d("+Ve/2+"px,"+ke/2+"px,"+e+"px) ",a+="rotateX("+Number(fe).toFixed(10)+"deg)  rotateY("+Number(-ce).toFixed(10)+"deg) ",i.Y&&(a+=i.Y,i.style.transform=a));X()};var yo;de.initWebGL=function(e){io=u;try{if(nt=e?e:document.createElement("canvas"),nt.width=100,nt.height=100,ot.appendChild(nt),(eo=nt.getContext("webgl"))||(eo=nt.getContext("experimental-webgl")),eo){eo.ea=500,eo.da=500,eo.clearColor(0,0,0,0),eo.enable(eo.DEPTH_TEST),eo.viewport(0,0,500,500),eo.clear(eo.COLOR_BUFFER_BIT|eo.DEPTH_BUFFER_BIT),eo.enable(eo.TEXTURE_2D);var t=eo.createShader(eo.FRAGMENT_SHADER);hs="#ifdef GL_ES\n",hs+="precision highp float;\n",hs+="#endif\n",hs+="varying vec2 vTextureCoord;\n",hs+="uniform sampler2D uSampler;\n",hs+="void main(void) {\n",hs+="    gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n",hs+="}\n",eo.shaderSource(t,hs),eo.compileShader(t),eo.getShaderParameter(t,eo.COMPILE_STATUS)||(alert(eo.getShaderInfoLog(t)),t=n);var o=eo.createShader(eo.VERTEX_SHADER);hs="attribute vec3 aVertexPosition;\n",hs+="attribute vec2 aTextureCoord;\n",hs+="uniform mat4 uMVMatrix;\n",hs+="uniform mat4 uPMatrix;\n",hs+="varying vec2 vTextureCoord;\n",hs+="void main(void) {\n",hs+="    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n",hs+="    vTextureCoord = aTextureCoord;\n",hs+="}\n",eo.shaderSource(o,hs),eo.compileShader(o),eo.getShaderParameter(o,eo.COMPILE_STATUS)||(alert(eo.getShaderInfoLog(o)),o=n),yo=eo.createProgram(),eo.attachShader(yo,o),eo.attachShader(yo,t),eo.linkProgram(yo),eo.getProgramParameter(yo,eo.LINK_STATUS)||alert("Could not initialise shaders"),eo.useProgram(yo),yo.ca=eo.getAttribLocation(yo,"aVertexPosition"),eo.enableVertexAttribArray(yo.ca),yo.ba=eo.getAttribLocation(yo,"aTextureCoord"),eo.enableVertexAttribArray(yo.ba),yo.aa=eo.getUniformLocation(yo,"uPMatrix"),yo.pa=eo.getUniformLocation(yo,"uMVMatrix"),yo.ra=eo.getUniformLocation(yo,"uSampler"),D(ft),B()}}catch(e){J(e)}eo?to=m:alert("Could not initialise WebGL!")};var xo,No,wo,Eo=[],Mo=new glMatrixArrayType(16),To=new glMatrixArrayType(16);de.getPan=function(){return ce},de.getPanDest=function(){return St},de.getPanN=function(){for(var e=ce;-180>e;)e+=360;for(;180<e;)e-=360;return e},de.getPanNorth=function(){for(var e=ce-me;-180>e;)e+=360;for(;180<e;)e-=360;return e},de.setPan=function(e){C(),isNaN(e)||(ce=Number(e)),de.dirty=m},de.changePan=function(e,t){de.setPan(de.getPan()+e),t&&(pe=e)},de.getTilt=function(){return fe},de.getTiltDest=function(){return Ft},de.setTilt=function(e){C(),isNaN(e)||(fe=Number(e)),de.dirty=m},de.changeTilt=function(e,t){
de.setTilt(de.getTilt()+e),t&&(xe=e)},de.getFov=function(){return Ne},de.getFovDest=function(){return st},de.setFov=function(e){if(C(),!isNaN(e)&&0<e&&180>e){var t=Ne;Ne=Number(e),Y(),de.dirty|=t!=Ne}},de.changeFov=function(e,t){de.setFov(de.getFov()+e),t&&(Se=e)},de.changeFovLog=function(e,t){if(!isNaN(e)){var o;o=e/90*Math.cos(Ne*Math.PI/360),o=Ne*Math.exp(o),de.setFov(o),t&&(Se=e)}},de.setPanTilt=function(e,t){C(),isNaN(e)||(ce=e),isNaN(t)||(fe=t),de.dirty=m},de.setPanTiltFov=function(e,t,o){C(),isNaN(e)||(ce=e),isNaN(t)||(fe=t),!isNaN(o)&&0<o&&180>o&&(Ne=o),de.dirty=m},de.setDefaultView=function(){de.setPanTiltFov(ge,Ae,we)},de.setLocked=function(e){de.setLockedMouse(e),de.setLockedWheel(e),de.setLockedKeyboard(e)},de.setLockedMouse=function(e){zt=e},de.setLockedKeyboard=function(e){Gt=e},de.setLockedWheel=function(e){Zt=e},de.moveTo=function(e,t,o,n){C(),Mt=m;var i=e.toString().split("/");1<i.length&&(e=Number(i[0]),n=t,t=Number(i[1]),2<i.length&&(o=Number(i[2]))),St=isNaN(e)?ce:e,Ft=isNaN(t)?fe:t,st=!isNaN(o)&&0<o&&180>o?o:Ne,Tt=!isNaN(n)&&0<n?n:1},de.moveToDefaultView=function(e){de.moveTo(ge,Ae,we,e)},de.isTouching=function(){return de.d!=n},C(),de.ga=function(){var e;e=dt,de.control=e,g(),setTimeout(function(){h()},10),setTimeout(function(){q(),de.updatePanorama()},10),e.addEventListener?(e.addEventListener("touchstart",F,u),e.addEventListener("touchmove",S,u),e.addEventListener("touchend",T,u),e.addEventListener("touchcancel",M,u),e.addEventListener("gesturestart",E,u),e.addEventListener("gesturechange",N,u),e.addEventListener("gestureend",x,u),e.addEventListener("mousedown",R,u),e.addEventListener("mousemove",L,u),document.addEventListener("mouseup",k,u),e.addEventListener("mousedblclick",de.toggleFullscreen,u),e.addEventListener("mousewheel",V,u),e.addEventListener("DOMMouseScroll",V,u),document.addEventListener("keydown",y,u),document.addEventListener("keyup",A,u),window.addEventListener("orientationchange",g,u),window.addEventListener("resize",q,u),window.addEventListener("blur",f,u),it.addEventListener("webkitfullscreenchange",p,u),document.addEventListener("mozfullscreenchange",p,u),window.addEventListener("webkitfullscreenchange",p,u)):e.attachEvent&&(e.attachEvent("onmousedown",R),e.attachEvent("onmousemove",L),document.attachEvent("onmouseup",k),e.attachEvent("onmousedblclick",de.toggleFullscreen),e.attachEvent("onmousewheel",V),document.attachEvent("onkeydown",y),document.attachEvent("onkeyup",A),window.attachEvent("onresize",q),window.attachEvent("onblur",f)),e.oncontextmenu=function(e){return void 0===e&&(e=window.event),e.ctrlKey||(e="<<L>>","U"==e.charAt(2))?m:(c(),u)}},de.addHotspotElements=function(){for(var e=0;e<Vt.length;e++)if("point"==Vt[e].type&&(Vt[e].obj=de.skinObj&&de.skinObj.addSkinHotspot?new de.skinObj.addSkinHotspot(Vt[e]):new K(this,Vt[e]),Vt[e].obj&&Vt[e].obj.__div)){var t=dt.firstChild;t?dt.insertBefore(Vt[e].obj.__div,t):dt.appendChild(Vt[e].obj.__div)}},de.isPlaying=function(e){return"_main"==e?m:(e=a(e))?!e.obj.ended&&!e.obj.paused:u},de.playSound=function(e,t){var o=a(e);o&&(o.obj.e=t&&!isNaN(Number(t))?Number(t)-1:o.loop-1,-1==o.obj.e&&(o.obj.e=1e7),o.obj.play())},de.playPauseSound=function(e){de.isPlaying(e)?de.pauseSound(e):de.playSound(e)},de.pauseSound=function(e){if("_main"==e){for(e=0;e<kt.length;e++)kt[e].obj.pause();for(e=0;e<jt.length;e++)jt[e].obj.pause()}else(e=a(e))&&e.obj.pause()},de.stopSound=function(e){if("_main"==e){for(e=0;e<kt.length;e++)kt[e].obj.pause(),kt[e].obj.currentTime=0;for(e=0;e<jt.length;e++)jt[e].obj.pause(),jt[e].obj.currentTime=0}else(e=a(e))&&(e.obj.pause(),e.obj.currentTime=0)},de.setVolume=function(e,t){var o=Number(t);if(1<o&&(o=1),0>o&&(o=0),"_main"==e){for(Ct=o,o=0;o<kt.length;o++)kt[o].obj.volume=kt[o].b*Ct;for(o=0;o<jt.length;o++)jt[o].obj.volume=jt[o].b*Ct}else{var n=a(e);n&&(n.b=o,n.obj.volume=o*Ct)}},de.changeVolume=function(e,t){if("_main"==e){var o=Ct,o=o+Number(t);for(1<o&&(o=1),0>o&&(o=0),Ct=o,o=0;o<kt.length;o++)kt[o].obj.volume=kt[o].b*Ct}else{var n=a(e);n&&(o=n.b,o+=Number(t),1<o&&(o=1),0>o&&(o=0),n.b=o,n.obj.volume=o*Ct)}},de.removeHotspots=function(){for(var e;0<Vt.length;)e=Vt.pop(),e.obj&&(dt.removeChild(e.obj.__div),delete e.obj),e.obj=n},de.setFullscreen=function(e){if(de.isFullscreen!=e&&(de.isFullscreen=e,de.dirty=m),de.isFullscreen){try{it.webkitRequestFullScreen?it.webkitRequestFullScreen():it.mozRequestFullScreen?it.mozRequestFullScreen():it.requestFullScreen?it.requestFullScreen():it.requestFullscreen&&it.requestFullscreen()}catch(e){J(e)}it.style.position="absolute",e=Z(),it.style.left=window.pageXOffset-e.x+Xt+"px",it.style.top=window.pageYOffset-e.y+Yt+"px",document.body.style.overflow="hidden",de.divSkin&&de.divSkin.ggEnterFullscreen&&de.divSkin.ggEnterFullscreen()}else{try{document.webkitIsFullScreen?document.webkitCancelFullScreen():document.mozFullScreen?document.mozCancelFullScreen():document.fullScreen&&(document.cancelFullScreen?document.cancelFullScreen():document.exitFullscreen&&document.exitFullscreen())}catch(e){J(e)}it.style.position="relative",it.style.left="0px",it.style.top="0px",document.body.style.overflow="",de.divSkin&&de.divSkin.ggExitFullscreen&&de.divSkin.ggExitFullscreen()}q()},de.toggleFullscreen=function(){de.setFullscreen(!de.isFullscreen)},de.enterFullscreen=function(){de.setFullscreen(m)},de.exitFullscreen=function(){de.setFullscreen(u)},de.startAutorotate=function(e,t,o){xt=vt=m,lt=(new Date).getTime(),e&&0!=e&&(Nt=e),t&&(yt=t),o&&(wt=o)},de.stopAutorotate=function(){vt=xt=u},de.toggleAutorotate=function(){(xt=vt=!xt)&&(lt=(new Date).getTime())},de.createLayers=function(e){de.A=document.getElementById(e),de.A?(de.A.innerHTML="",it=document.createElement("div"),it.setAttribute("style","top:  0px;left: 0px;position:relative;"),de.A.appendChild(it),ot=document.createElement("div"),e="top:  0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 0;"+(uo+"user-select: none;"),ot.setAttribute("style",e),it.appendChild(ot),dt=document.createElement("div"),e="top:  0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 100;",0<=navigator.userAgent.indexOf("MSIE")&&(e+="background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);"),e+=uo+"user-select: none;",dt.setAttribute("style",e),it.appendChild(dt),ut=document.createElement("canvas"),e="top:  0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 900;"+(uo+"user-select: none;"),ut.setAttribute("style",e),it.appendChild(ut),$t=document.createElement("div"),$t.setAttribute("style","top:  0px;left: 0px;position:absolute;padding: 3px;visibility: hidden;z-index: 1100;"),$t.innerHTML=" Hotspot text!",it.appendChild($t),de.divSkin=dt):alert("container not found!")},de.createCube=function(){var e;rt=document.createElement("div"),e="position:absolute;"+(uo+"user-select: none;"),e+=uo+"transform-style: preserve-3d;",rt.setAttribute("style",e+"z-Index: 100;"),ot.appendChild(rt),at=document.createElement("div"),e=uo+"transform-style: preserve-3d;",e+=uo+"transform-origin: 0 0;",e=e+"position:absolute;"+(uo+"user-select: none;"),at.setAttribute("style",e+"z-Index: 100;"),rt.appendChild(at);var t,o;At=m;var n=128;for(mt>n&&(n=mt),o=0;6>o;o++)t=document.createElement("img"),At?""!=pt[o]&&t.setAttribute("src",O(pt[o])):t.setAttribute("src",O(ht[o])),e="position:absolute;",e+="left: 0px;",e+="top: 0px;",e+="width: "+n+"px;",e+="height: "+n+"px;",e+="z-index: 100;",e+=uo+"transform-origin: 0 0;",e+=uo+"transform: ",e=4>o?e+("rotateY("+-90*o+"deg)"):e+("rotateX("+(4==o?-90:90)+"deg)"),e+=" scale("+ft+") translate3d("+-n/2+"px,"+-n/2+"px,"+-n/2+"px);",t.setAttribute("style",e),at.appendChild(t),de.cubeFaces.push(t),de.checkLoaded.push(t),""!=bt[o]&&(t=document.createElement("img"),t.setAttribute("src",O(bt[o])),e="position:absolute;",e+="left: 0px;",e+="top: 0px;",e+="width: "+n/1.1+"px;",e+="height: "+n/1.1+"px;",e+="z-index: 100;",e+=uo+"transform-origin: 0 0;",e+=uo+"transform: ",e=4>o?e+("rotateY("+-90*o+"deg)"):e+("rotateX("+(4==o?-90:90)+"deg)"),e+=" scale("+ft+") translate3d("+-n/2.2+"px,"+-n/2.2+"px,"+-n/2.2+"px);",t.setAttribute("style",e),t.style.opacity=0,at.appendChild(t),de.cubeFacesOverlay.push(t),de.checkLoaded.push(t))},de.ia=function(){var e;at=rt=n;var t,o;At=m;var i=128;for(mt>i&&(i=mt),o=0;6>o;o++){t=document.createElement("img"),At?""!=pt[o]&&t.setAttribute("src",O(pt[o])):t.setAttribute("src",O(ht[o])),e="position:absolute;",e+="left: 0px;",e+="top: 0px;",e+="width: "+i+"px;",e+="height: "+i+"px;",e+="z-index: 100;",e+=uo+"-transform-style: preserve-3d;",e+=uo+"transform-origin: 0 0;",e+=uo+"transform: ";var a;a="",a=4>o?a+("rotateY("+-90*o+"deg)"):a+("rotateX("+(4==o?-90:90)+"deg)"),a+=" scale("+ft+") translate3d("+-i/2+"px,"+-i/2+"px,"+-i/2+"px)",e+=a+";",t.Y=a,t.setAttribute("style",e),ot.appendChild(t),de.cubeFaces.push(t),de.checkLoaded.push(t)}},de.finalPanorama=function(){var e;if(oo)for(e=0;6>e;e++)de.cubeFaces[e].setAttribute("src",O(ht[e]))},de.setOverlayOpacity=function(e){var t;if(oo)for(t=0;6>t;t++)de.cubeFacesOverlay[t]&&de.cubeFacesOverlay[t].style&&(de.cubeFacesOverlay[t].style.opacity=e)},de.removePanorama=function(){var e;if(oo){for(e=0;e<de.cubeFaces.length;e++)de.cubeFaces[e].setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC"),de.cubeFacesOverlay[e]&&de.cubeFacesOverlay[e].setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC");rt&&ot.removeChild(rt),rt=at=n,de.cubeFaces=[],de.cubeFacesOverlay=[]}if(eo&&Eo)for(;0<Eo.length;)eo.deleteTexture(Eo.pop());for(e=0;e<jt.length;e++)dt.removeChild(jt[e].obj);for(e=0;e<Lt.length;e++)dt.removeChild(Lt[e].obj);var t=[];for(e=0;e<kt.length;e++){var o=kt[e];if(0==o.mode||1==o.mode||o.ua)t.push(o);else{try{o.obj.pause()}catch(e){J(e)}it.removeChild(o.obj)}}kt=t,jt=[],Lt=[]},de.getScreenResolution=function(){var e=1,t=-1!=navigator.userAgent.indexOf("Mac");return window.devicePixelRatio&&t&&(e=window.devicePixelRatio),{w:screen.width*e,h:screen.height*e}},de.getMaxScreenResolution=function(){var e=de.getScreenResolution();return e.w>e.h?e.w:e.h},de.readConfigString=function(e){window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(e,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async="false",xmlDoc.loadXML(e)),de.readConfigXml(xmlDoc)},de.readConfigUrl=function(e,t){try{var o;if(o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),o.open("GET",e,u),o.send(n),o.responseXML){var i=e.lastIndexOf("/");0<=i&&(ro=e.substr(0,i+1)),2<=arguments.length&&(ro=t),de.readConfigString(o.responseText)}else alert("Error loading panorama XML")}catch(e){alert("Error:"+e)}};var So=m;de.readConfigXml=function(e){var t=e.firstChild;if(Pt=[],Rt=[],"tour"==t.nodeName){var n,e="";for((n=t.getAttributeNode("start"))&&(e=n.nodeValue.toString()),""!=de.startNode&&(e=de.startNode,de.startNode=""),t=t.firstChild;t;)n="","panorama"==t.nodeName&&(n=t.getAttributeNode("id"))&&(n=n.nodeValue.toString(),""==e&&(e=n),Pt[n]=t,Rt.push(n)),t=t.nextSibling;de.U(Pt[e]),o("{"+e+"}"),de.S=m}else de.S=u,de.U(t),o("")},de.U=function(e){de.removeHotspots(),de.removePanorama(),de.T=0;for(var o,i,a,e=e.firstChild,l=1e6;e;){if("view"==e.nodeName)for((i=e.getAttributeNode("fovmode"))&&(Fe=Number(i.nodeValue)),i=e.getAttributeNode("pannorth"),me=1*(i?i.nodeValue:0),o=e.firstChild;o;)"start"==o.nodeName&&(i=o.getAttributeNode("pan"),ge=ce=Number(i?i.nodeValue:0),i=o.getAttributeNode("tilt"),Ae=fe=Number(i?i.nodeValue:0),i=o.getAttributeNode("fov"),we=Ne=Number(i?i.nodeValue:70)),"min"==o.nodeName&&(i=o.getAttributeNode("pan"),he=1*(i?i.nodeValue:0),i=o.getAttributeNode("tilt"),ve=1*(i?i.nodeValue:-90),i=o.getAttributeNode("fov"),Ee=1*(i?i.nodeValue:5),1e-8>Ee&&(Ee=1e-8)),"max"==o.nodeName&&(i=o.getAttributeNode("pan"),be=1*(i?i.nodeValue:0),i=o.getAttributeNode("tilt"),ye=1*(i?i.nodeValue:90),i=o.getAttributeNode("fov"),Me=1*(i?i.nodeValue:120),180<=Me&&(Me=179.9)),o=o.nextSibling;if("autorotate"==e.nodeName&&((i=e.getAttributeNode("speed"))&&(Nt=1*i.nodeValue),(i=e.getAttributeNode("delay"))&&(yt=1*i.nodeValue),(i=e.getAttributeNode("returntohorizon"))&&(wt=1*i.nodeValue),(i=e.getAttributeNode("nodedelay"))&&(Et=1*i.nodeValue),So&&0!=Nt&&(xt=vt=m,lt=(new Date).getTime())),"input"==e.nodeName&&(a||(a=e)),a)for(o=0;6>o;o++)i=a.getAttributeNode("prev"+o+"url"),pt[o]=i?new String(i.nodeValue):"";if("altinput"==e.nodeName&&(o=0,(i=e.getAttributeNode("screensize"))&&(o=1*i.nodeValue),0<o&&o>=de.getMaxScreenResolution()&&o<l&&(l=o,a=e)),"control"==e.nodeName&&So&&((i=e.getAttributeNode("simulatemass"))&&(Ze=1==i.nodeValue),(i=e.getAttributeNode("locked"))&&(zt=1==i.nodeValue),i&&(Gt=1==i.nodeValue),(i=e.getAttributeNode("lockedmouse"))&&(zt=1==i.nodeValue),(i=e.getAttributeNode("lockedkeyboard"))&&(Gt=1==i.nodeValue),(i=e.getAttributeNode("lockedwheel"))&&(Zt=1==i.nodeValue),(i=e.getAttributeNode("invertwheel"))&&(Jt=1==i.nodeValue),(i=e.getAttributeNode("speedwheel"))&&(Kt=1*i.nodeValue),(i=e.getAttributeNode("invertcontrol"))&&(qt=1==i.nodeValue),(i=e.getAttributeNode("dblclickfullscreen"))&&(Qt=1==i.nodeValue)),"overlay"==e.nodeName&&((i=e.getAttributeNode("blendspeed"))&&(_t=1*i.nodeValue),(i=e.getAttributeNode("auto"))&&(Ut=1==i.nodeValue),(i=e.getAttributeNode("delay"))&&(Dt=1*i.nodeValue)),"userdata"==e.nodeName&&(de.userdata=t(e)),"hotspots"==e.nodeName)for(o=e.firstChild;o;){if("label"==o.nodeName){var c=Q;(i=o.getAttributeNode("enabled"))&&(c.enabled=1==i.nodeValue),(i=o.getAttributeNode("width"))&&(c.width=1*i.nodeValue),(i=o.getAttributeNode("height"))&&(c.height=1*i.nodeValue),(i=o.getAttributeNode("textcolor"))&&(c.W=1*i.nodeValue),(i=o.getAttributeNode("textalpha"))&&(c.V=1*i.nodeValue),(i=o.getAttributeNode("background"))&&(c.background=1==i.nodeValue),(i=o.getAttributeNode("backgroundalpha"))&&(c.s=1*i.nodeValue),(i=o.getAttributeNode("backgroundcolor"))&&(c.t=1*i.nodeValue),(i=o.getAttributeNode("border"))&&(c.P=1*i.nodeValue),(i=o.getAttributeNode("bordercolor"))&&(c.v=1*i.nodeValue),(i=o.getAttributeNode("borderalpha"))&&(c.u=1*i.nodeValue),(i=o.getAttributeNode("borderradius"))&&(c.O=1*i.nodeValue),(i=o.getAttributeNode("wordwrap"))&&(c.wordwrap=1==i.nodeValue)}if("polystyle"==o.nodeName&&((i=o.getAttributeNode("mode"))&&($=1*i.nodeValue),(i=o.getAttributeNode("bordercolor"))&&(oe=1*i.nodeValue),(i=o.getAttributeNode("backgroundcolor"))&&(ie=1*i.nodeValue),(i=o.getAttributeNode("borderalpha"))&&(ne=1*i.nodeValue),(i=o.getAttributeNode("backgroundalpha"))&&(ae=1*i.nodeValue)),"hotspot"==o.nodeName&&(c={type:"point",pan:0,tilt:0,url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:u,obj:n,H:n},i=o.getAttributeNode("pan"),c.pan=1*(i?i.nodeValue:0),i=o.getAttributeNode("tilt"),c.tilt=1*(i?i.nodeValue:0),(i=o.getAttributeNode("url"))&&(c.url=i.nodeValue.toString()),(i=o.getAttributeNode("target"))&&(c.target=i.nodeValue.toString()),(i=o.getAttributeNode("title"))&&(c.title=i.nodeValue.toString()),(i=o.getAttributeNode("id"))&&(c.id=i.nodeValue.toString()),(i=o.getAttributeNode("skinid"))&&(c.skinid=i.nodeValue.toString()),(i=e.getAttributeNode("width"))&&(c.w=i.nodeValue.toString()),(i=e.getAttributeNode("height"))&&(c.h=i.nodeValue.toString()),(i=e.getAttributeNode("wordwrap"))&&(c.wordwrap=1==i.nodeValue),Vt.push(c)),"polyhotspot"==o.nodeName){c={type:"poly",url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:u,obj:n,H:n,c:0,k:0},(i=o.getAttributeNode("url"))&&(c.url=i.nodeValue.toString()),(i=o.getAttributeNode("target"))&&(c.target=i.nodeValue.toString()),(i=o.getAttributeNode("title"))&&(c.title=i.nodeValue.toString()),(i=o.getAttributeNode("id"))&&(c.id=i.nodeValue.toString()),c.v=oe,c.t=ie,c.u=ne,c.s=ae,(i=o.getAttributeNode("bordercolor"))&&(c.v=1*i.nodeValue),(i=o.getAttributeNode("backgroundcolor"))&&(c.t=1*i.nodeValue),(i=o.getAttributeNode("borderalpha"))&&(c.u=1*i.nodeValue),(i=o.getAttributeNode("backgroundalpha"))&&(c.s=1*i.nodeValue),c.H=[];for(var g=o.firstChild;g;){if("vertex"==g.nodeName){var h={pan:0,tilt:0};i=g.getAttributeNode("pan"),h.pan=1*(i?i.nodeValue:0),i=g.getAttributeNode("tilt"),h.tilt=1*(i?i.nodeValue:0),c.H.push(h)}g=g.nextSibling}Vt.push(c)}o=o.nextSibling}if("sounds"==e.nodeName||"media"==e.nodeName)for(o=e.firstChild;o;){if("sound"==o.nodeName){for(g={id:"",url:"",loop:0,b:1,z:0,mode:1,field:10,pan:0,tilt:0,f:0,r:0,url:[]},(i=o.getAttributeNode("id"))&&(g.id=i.nodeValue.toString()),(i=o.getAttributeNode("url"))&&g.url.push(i.nodeValue.toString()),(i=o.getAttributeNode("level"))&&(g.b=Number(i.nodeValue)),(i=o.getAttributeNode("loop"))&&(g.loop=Number(i.nodeValue)),(i=o.getAttributeNode("mode"))&&(g.mode=Number(i.nodeValue)),(i=o.getAttributeNode("field"))&&(g.field=Number(i.nodeValue)),(i=o.getAttributeNode("ambientlevel"))&&(g.z=Number(i.nodeValue)),(i=o.getAttributeNode("pan"))&&(g.pan=Number(i.nodeValue)),(i=o.getAttributeNode("tilt"))&&(g.tilt=Number(i.nodeValue)),(i=o.getAttributeNode("pansize"))&&(g.f=Number(i.nodeValue)),(i=o.getAttributeNode("tiltsize"))&&(g.r=Number(i.nodeValue)),c=o.firstChild;c;)"source"==c.nodeName&&(i=c.getAttributeNode("url"))&&g.url.push(i.nodeValue.toString()),c=c.nextSibling;s(g)}if("video"==o.nodeName){for(g={id:"",url:"",loop:0,b:1,z:0,mode:1,field:10,pan:0,tilt:0,f:0,r:0,i:0,j:0,F:0,B:50,g:0,url:[]},(i=o.getAttributeNode("id"))&&(g.id=i.nodeValue.toString()),(i=o.getAttributeNode("url"))&&g.url.push(i.nodeValue.toString()),(i=o.getAttributeNode("level"))&&(g.b=Number(i.nodeValue)),(i=o.getAttributeNode("loop"))&&(g.loop=Number(i.nodeValue)),(i=o.getAttributeNode("mode"))&&(g.mode=Number(i.nodeValue)),(i=o.getAttributeNode("field"))&&(g.field=Number(i.nodeValue)),(i=o.getAttributeNode("ambientlevel"))&&(g.z=Number(i.nodeValue)),(i=o.getAttributeNode("pan"))&&(g.pan=Number(i.nodeValue)),(i=o.getAttributeNode("tilt"))&&(g.tilt=Number(i.nodeValue)),(i=o.getAttributeNode("pansize"))&&(g.f=Number(i.nodeValue)),(i=o.getAttributeNode("tiltsize"))&&(g.r=Number(i.nodeValue)),(i=o.getAttributeNode("rotx"))&&(g.i=Number(i.nodeValue)),(i=o.getAttributeNode("roty"))&&(g.j=Number(i.nodeValue)),(i=o.getAttributeNode("rotz"))&&(g.F=Number(i.nodeValue)),(i=o.getAttributeNode("fov"))&&(g.B=Number(i.nodeValue)),(i=o.getAttributeNode("width"))&&(g.n=Number(i.nodeValue)),(i=o.getAttributeNode("height"))&&(g.m=Number(i.nodeValue)),i=o.getAttributeNode("stretch"),g.J=i?Number(i.nodeValue):1,(i=o.getAttributeNode("clickmode"))&&(g.g=Number(i.nodeValue)),c=o.firstChild;c;)"source"==c.nodeName&&(i=c.getAttributeNode("url"))&&g.url.push(i.nodeValue.toString()),c=c.nextSibling;d(g)}if("image"==o.nodeName){for(g={id:"",url:"",loop:0,b:1,z:0,mode:1,field:10,pan:0,tilt:0,f:0,r:0,i:0,j:0,F:0,B:50,g:0},(i=o.getAttributeNode("id"))&&(g.id=i.nodeValue.toString()),(i=o.getAttributeNode("url"))&&(g.url=i.nodeValue.toString()),(i=o.getAttributeNode("pan"))&&(g.pan=Number(i.nodeValue)),(i=o.getAttributeNode("tilt"))&&(g.tilt=Number(i.nodeValue)),(i=o.getAttributeNode("rotx"))&&(g.i=Number(i.nodeValue)),(i=o.getAttributeNode("roty"))&&(g.j=Number(i.nodeValue)),(i=o.getAttributeNode("rotz"))&&(g.F=Number(i.nodeValue)),(i=o.getAttributeNode("fov"))&&(g.B=Number(i.nodeValue)),(i=o.getAttributeNode("width"))&&(g.n=Number(i.nodeValue)),(i=o.getAttributeNode("height"))&&(g.m=Number(i.nodeValue)),i=o.getAttributeNode("stretch"),g.J=i?Number(i.nodeValue):1,(i=o.getAttributeNode("clickmode"))&&(g.g=Number(i.nodeValue)),c=o.firstChild;c;)"source"==c.nodeName&&(i=c.getAttributeNode("url"))&&(g.url=i.nodeValue.toString()),c=c.nextSibling;r(g)}o=o.nextSibling}e=e.nextSibling}if(a){for(o=0;6>o;o++)(i=a.getAttributeNode("tile"+o+"url"))&&(ht[o]=new String(i.nodeValue)),i=a.getAttributeNode("tile"+o+"url1"),bt[o]=i?new String(i.nodeValue):"";for(o=0;6>o;o++)(i=a.getAttributeNode("prev"+o+"url"))&&(pt[o]=new String(i.nodeValue));(i=a.getAttributeNode("tilesize"))&&(mt=1*i.nodeValue),(i=a.getAttributeNode("tilescale"))&&(ft=1*i.nodeValue)}to?eo&&(D(ft),B()):(oo=m,0<=navigator.userAgent.indexOf("MSIE")?de.ia():de.createCube(),de.T=0),de.addHotspotElements(),de.dirty=m,So&&de.divSkin&&de.divSkin.ggViewerInit&&de.divSkin.ggViewerInit(),So=u,de.hasConfig=m,q()},de.openUrl=function(e,t){0<e.length&&(-1==e.indexOf("://")&&"/"!=e.substr(0,1)&&(e=ro+e),".xml"==e.substr(e.length-4)||".swf"==e.substr(e.length-4)||"{"==e.charAt(0)?de.openNext(e,t):window.open(e,t))},de.openNext=function(e,t){de.isLoaded=u,de.hasConfig=u,de.checkLoaded=[],de.divSkin&&de.divSkin.ggReLoaded&&de.divSkin.ggReLoaded(),gt=0,de.skinObj&&de.skinObj.hotspotProxyOut&&de.skinObj.hotspotProxyOut(de.hotspot.id),".swf"==e.substr(e.length-4)&&(e=e.substr(0,e.length-4)+".xml");var n="";if(t&&(n=t.toString()),n=n.replace("$cur",ce+"/"+fe+"/"+Ne),n=n.replace("$ap",ce),n=n.replace("$an",de.getPanNorth()),n=n.replace("$at",fe),n=n.replace("$af",Ne),""!=n){var i=n.split("/");3<i.length&&""!=i[3]&&(de.startNode=i[3])}if("{"==e.charAt(0)){if(i=e.substr(1,e.length-2),!Pt[i])return void J("invalid node id: "+i);de.U(Pt[i]),o(e)}else de.readConfigUrl(e);""!=n&&(i=n.split("/"),0<i.length&&de.setPan(Number(i[0])),1<i.length&&de.setTilt(Number(i[1])),2<i.length&&de.setFov(Number(i[2]))),C()},de.getNodeIds=function(){return Rt.slice(0)},de.getNodeUserdata=function(e){if(!e)return de.userdata;if(e=Pt[e])for(e=e.firstChild;e;){if("userdata"==e.nodeName)return t(e);e=e.nextSibling}return[]},de.getNodeLatLng=function(e){var e=de.getNodeUserdata(e),t=[];return t.push(e.latitude),t.push(e.longitude),t},de.getNodeTitle=function(e){return de.getNodeUserdata(e).title},de.detectBrowser(),de.createLayers(e),de.ga()}var m=!0,n=null,u=!1;glMatrixArrayType="undefined"!=typeof Float32Array?Float32Array:"undefined"!=typeof WebGLFloatArray?WebGLFloatArray:Array,window.ggHasHtml5Css3D=lc,window.ggHasWebGL=mc,window.pano2vrPlayer=pano2vrPlayer;